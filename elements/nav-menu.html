<link rel="import" href="../../components/polymer/polymer.html">

<dom-module id="nav-menu">
	<template>
		<style>
			.menu-btn {
				background-image: url('data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/PjwhRE9DVFlQRSBzdmcgIFBVQkxJQyAnLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4nICAnaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkJz48c3ZnIGhlaWdodD0iMzJweCIgaWQ9IkxheWVyXzEiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDMyIDMyOyBmaWxsOiBncmVlbiIgdmVyc2lvbj0iMS4xIiB2aWV3Qm94PSIwIDAgMzIgMzIiIHdpZHRoPSIzMnB4IiB4bWw6c3BhY2U9InByZXNlcnZlIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj48cGF0aCBkPSJNNCwxMGgyNGMxLjEwNCwwLDItMC44OTYsMi0ycy0wLjg5Ni0yLTItMkg0QzIuODk2LDYsMiw2Ljg5NiwyLDhTMi44OTYsMTAsNCwxMHogTTI4LDE0SDRjLTEuMTA0LDAtMiwwLjg5Ni0yLDIgIHMwLjg5NiwyLDIsMmgyNGMxLjEwNCwwLDItMC44OTYsMi0yUzI5LjEwNCwxNCwyOCwxNHogTTI4LDIySDRjLTEuMTA0LDAtMiwwLjg5Ni0yLDJzMC44OTYsMiwyLDJoMjRjMS4xMDQsMCwyLTAuODk2LDItMiAgUzI5LjEwNCwyMiwyOCwyMnoiLz48L3N2Zz4=');
				background-position: center center;
				background-size: 30px;
				display: inline-block;
				height: 30px;
				width: 30px;
				display: none;
			}

			.menu-btn:hover {
				cursor: pointer;
			}

			.nav-link, .nav-link:visited {
				text-decoration: none;
				padding: 10px;
				color: white;
			}

			#mobileNav {
				padding: 0 10px;
				width: 100%;
				position: absolute;
				left: 0px;
				overflow: hidden;
			}

			#mobileNav a {
				display: block;
			}
			
			.show-menu {
				height: 190px;
				background-color: #282C34;
				transition: height .5s;
			}

			.hide-menu {
				height: 0px;
				background-color: #282C34;
				transition: height .5s;
			}

			@media (max-width: 767px) {
				.menu-btn {
					display: block;
				}
			}
		</style>

		<i class="menu-btn" on-click='toggleMenu'></i>
		<div id='mobileNav' class$='[[_getDisplayMenu(visible)]]'>
			<a class="nav-link" href="#/home" on-click='toggleMenu'>üè† &nbsp; Home</a>
      <a class="nav-link" href="#/projects" on-click='toggleMenu'>üìì &nbsp; Projects</a>
      <a class="nav-link" href="#/sandbox">üèñÔ∏è &nbsp; Sandbox</a>
      <a class="nav-link" href="#/skills" on-click='toggleMenu'>üí™ &nbsp; Skills</a>
		</div>
		
	</template>
	<script>
		class NavMenu extends Polymer.Element {
			static get is() { return 'nav-menu'}
			static get properties() {
				return {
					visible: {
						type: Boolean,
						value: false
					}
				}
			}

			ready() {
				super.ready();
				// close mobile menu by clicking somewhere else
				document.addEventListener('click', e => {
					this.visible = false;
				})
			}

			toggleMenu(e) {
				e.stopPropagation();
				this.visible = !this.visible;
			}

			_getDisplayMenu(visible) {
				if (visible) return 'show-menu'
				return 'hide-menu'
			}
		}
		customElements.define(NavMenu.is, NavMenu);
	</script>
</dom-module>